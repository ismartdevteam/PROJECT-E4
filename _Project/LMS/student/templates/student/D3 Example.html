{% load static %}
<!DOCTYPE html>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>D3 Basics</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>


</head>
<body>

       <script>
        d3.json("{% static "js/suicide.json" %}", function(data){
            var canvas = d3.select(".dataContainer")
                            .append("svg")
                            .attr("width", 1000)
                            .attr("height", 700);


                canvas.selectAll("rect")
                .data(data)
                .enter()
                .append("rect")
                .attr("width", function(d){
                    return d.rank * 10;
                })
                .attr("height", 50)
                .attr("y", function(d, i){
                    return i * 80;
                })
                .attr("fill", "red");


                canvas.selectAll("text")
                    .data(data)        
                    .enter()
                    .append("text")
                    .attr("fill", "#ffffff")
                    .attr("y", function(d, i){
                        return i * 80 + 25;
                    })
                    .attr("x", 5)
                    .text(function (d){
                        return d.name + " rank " + d.rank;
                    });

                        })

        console.log(d3);

    </script>

    <div class="dataContainer"></div>
    
</body>
</html>